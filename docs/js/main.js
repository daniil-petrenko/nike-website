!function(){"use strict";window.addEventListener("load",(function(){if(window.location.hash){let e=window.location.hash;e=e.replace("#",".");const t=document.querySelector('.menu__link[data-goto="'+e+'"]');t&&("/"!==window.location.pathname&&"/index.html"!==window.location.pathname||t.click()),history.replaceState(null,null,window.location.pathname)}})),function(){const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},IOS:function(){return navigator.userAgent.match(/iPhone|iPad|IPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.IOS()||e.Opera()||e.Windows()}};if(e.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow"),t=document.querySelectorAll(".menu__sub-arrow"),s=!1,n=!1;e.length>0&&e.forEach((e=>{e.addEventListener("click",(function(e){const t=e.target.parentElement;s&&s!==t&&s.classList.remove("_active"),t.classList.toggle("_active"),s=!!t.classList.contains("_active")&&t}))})),t.length>0&&t.forEach((e=>{e.addEventListener("click",(function(e){const t=e.target.parentElement;n&&n!==t&&n.classList.remove("_active"),t.classList.toggle("_active"),n=!!t.classList.contains("_active")&&t}))})),document.addEventListener("click",(function(e){const t=document.querySelector(".menu__body"),n=document.querySelectorAll(".menu__arrow, .menu__sub-arrow");t.contains(e.target)||Array.from(n).some((t=>t.contains(e.target)))||(n.forEach((e=>{e.parentElement.classList.remove("_active")})),s=!1)}))}else document.body.classList.add("_pc");const t=document.querySelector(".icon-menu"),s=document.querySelector(".menu__body");t&&t.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),t.classList.toggle("_active"),s.classList.toggle("_active")}))}(),function(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const n=Array.from(e).filter((function(e){return!e.dataset.spollers.split(",")[0]}));n.length>0&&r(n);const i=Array.from(e).filter((function(e){return e.dataset.spollers.split(",")[0]}));if(i.length>0){const l=[];i.forEach((e=>{const t={},s=e.dataset.spollers.split(",");t.value=s[0],t.type=s[1]?s[1].trim():"max",t.item=e,l.push(t)}));let d=l.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));d=d.filter((function(e,t,s){return s.indexOf(e)===t})),d.forEach((e=>{const t=e.split(","),s=t[1],n=t[2],i=window.matchMedia(t[0]),o=l.filter((function(e){return e.value===s&&e.type===n}));i.addListener((function(){r(o,i)})),r(o,i)}))}function r(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),o(e),e.addEventListener("click",a)):(e.classList.remove("_init"),o(e,!1),e.removeEventListener("click",a))}))}function o(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function a(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const n=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),i=n.closest("[data-spollers]"),r=!!i.hasAttribute("data-one-spoller");i.querySelectorAll("._slide").length||(r&&!n.classList.contains("_active")&&c(i),n.classList.toggle("_active"),s(n.nextElementSibling,500)),e.preventDefault()}}function c(e){const s=e.querySelector("[data-spoller]._active");s&&(s.classList.remove("_active"),t(s.nextElementSibling,500))}}let t=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},s=(e,s=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}})(e,s):t(e,s)}(),function(){let e=new IntersectionObserver((function(e){e.forEach((e=>{if(e.isIntersecting){function t(s){s.target.classList.add("_anim-end"),e.target.removeEventListener("transitionend",t)}e.target.classList.add("_active"),e.target.addEventListener("transitionend",t)}else e.target.classList.contains("_anim-hide")&&e.target.classList.remove("_active")}))}),{threshold:[.5]}),t=document.querySelectorAll("._anim-items");for(let s of t)e.observe(s)}(),function(){function e(e,t){e.forEach((e=>{const s=e.target;e.isIntersecting?(s.classList.add("_active"),s.hasAttribute("data-watch-once")&&t.unobserve(s)):s.hasAttribute("data-watch-once")||s.classList.remove("_active")}))}document.querySelectorAll("[data-watch]").forEach((t=>{let s=parseFloat(t.getAttribute("data-watch-threshold"));isNaN(s)&&(s=.5),new IntersectionObserver(e,{threshold:s}).observe(t)}))}(),window.onload=function(){document.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("search-form__icon")?document.querySelector(".search-form").classList.toggle("_active"):!t.closest(".search-form")&&document.querySelector(".search-form._active")&&document.querySelector(".search-form").classList.remove("_active"),t.classList.contains("content-main__btn")&&(d(t,t.closest(".main__block").dataset.pid),e.preventDefault()),t.classList.contains("cart-header__icon")||t.closest(".cart-header__icon")?(document.querySelector(".cart-list").children.length>0&&document.querySelector(".cart-header").classList.toggle("_active"),e.preventDefault()):t.closest(".cart-header")||t.classList.contains("actions-product__button")||document.querySelector(".cart-header").classList.remove("_active"),t.classList.contains("cart-list__delete")){const s=t.closest(".cart-list__item").dataset.cartPid;d(t,s,!1),e.preventDefault()}}));const e=document.querySelector(".header");new IntersectionObserver((function(t,s){t[0].isIntersecting?e.classList.remove("_scroll"):e.classList.add("_scroll")})).observe(e);const t=document.querySelector(".main__block"),s=document.querySelector(".rotate-block__image"),n=document.querySelector(".content-main__title"),i=document.querySelector(".main__decor-title"),r=document.querySelector(".content-main__price");let o;setTimeout((()=>{o=document.querySelector(".slider-main__slide.swiper-slide-active"),a.observe(o,{attributes:!0,attributeFilter:["class"],attributeOldValue:!0})}));const a=new MutationObserver((e=>{for(let t=0;t<e.length;t++)if(!e[t].target.classList.contains("swiper-slide-active")){a.disconnect(),c(),l(e[t].target);break}})),c=function(){o=document.querySelector(".slider-main__slide.swiper-slide-active"),a.observe(o,{attributes:!0,attributeFilter:["class"]})},l=function(e){let o;if(e.classList.contains("swiper-slide-prev"))o=e;else if(e.classList.contains("swiper-slide-next")){const e=document.querySelectorAll(".slider-main__slide");o=e[e.length-1]}const a=o.querySelector(".slide-slider-main__image img").src,c=new URL(a).pathname,l=c.replace(/\.png$/,".webp");s.addEventListener("transitionend",(function e(a){s.innerHTML="",s.insertAdjacentHTML("beforeend",`\n            <picture>\n               <source srcset="${l}" type="image/webp">\n               <img src="${c}" alt="Image">\n            </picture>\n         `),t.dataset.pid=o.dataset.pid,n.innerHTML=o.dataset.title,i.innerHTML=o.dataset.title,r.innerHTML="$"+o.dataset.price,s.removeEventListener("transitionend",e),n.classList.remove("_hide"),i.classList.remove("_hide"),r.classList.remove("_hide"),s.classList.remove("_hide")})),n.classList.add("_hide"),i.classList.add("_hide"),r.classList.add("_hide"),s.classList.add("_hide")};function d(e,t,s=!0){const n=document.querySelector(".cart-header"),i=n.querySelector(".cart-header__icon"),r=i.querySelector("span"),o=document.querySelector(`[data-cart-pid="${t}"]`),a=document.querySelector(".cart-list");if(s){if(r?r.innerHTML=++r.innerHTML:i.insertAdjacentHTML("beforeend","<span>1</span>"),o){const e=o.querySelector(".cart-list__quantity span");e.innerHTML=++e.innerHTML}else{const e=document.querySelector(`[data-pid="${t}"]`),s=`\n          <a href="" class="cart-list__image">${e.querySelector(".rotate-block__image").innerHTML}</a>\n          <div class="cart-list__body">\n            <a href="" class="cart-list__title">${e.querySelector(".content-main__title").innerHTML}</a>\n            <div class="cart-list__quantity">Quantity: <span>1</span></div>\n            <button href="" class="cart-list__delete">Delete</button>\n          </div>\n        `;a.insertAdjacentHTML("beforeend",`<li data-cart-pid="${t}" class="cart-list__item">${s}</li>`)}e.classList.remove("_hold")}else{const e=o.querySelector(".cart-list__quantity span");e.innerHTML=--e.innerHTML,parseInt(e.innerHTML)||o.remove();const t=--r.innerHTML;t?r.innerHTML=t:(r.remove(),n.classList.remove("_active"))}}document.querySelector(".rotate_icon").addEventListener("click",(function(e){document.querySelector(".rotate-block").classList.toggle("_rotate")})),document.querySelector(".slider-main__slider")&&new Swiper(".slider-main__slider",{observer:!0,observeParents:!0,slidesPerView:3,spaceBetween:40,watchOverflow:!0,speed:800,preloadImages:!1,parallax:!0,loop:!0,navigation:{nextEl:".slider-main__button_next",prevEl:".slider-main__button_prev"},breakpoints:{320:{slidesPerView:1.3,spaceBetween:20},480:{slidesPerView:1.5,spaceBetween:40},768:{slidesPerView:2},992:{slidesPerView:2.5},1313:{slidesPerView:3}}}),document.querySelector(".slider-favorite__slider")&&new Swiper(".slider-favorite__slider",{observer:!0,observeParents:!0,slidesPerView:3,spaceBetween:80,watchOverflow:!0,speed:800,preloadImages:!1,parallax:!0,breakpoints:{320:{slidesPerView:1.1,spaceBetween:20},480:{slidesPerView:1.5,spaceBetween:80},768:{slidesPerView:2},992:{slidesPerView:2.5},1260:{slidesPerView:3}}}),document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),s=e.querySelector(".dropdown__list"),n=s.querySelectorAll(".dropdown__list-item"),i=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",(function(){s.classList.toggle("dropdown__list_visible"),this.classList.add("dropdown__button_active")})),n.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),t.innerText=this.innerText,t.focus(),i.value=this.dataset.value,s.classList.remove("dropdown__list_visible")}))})),document.addEventListener("click",(function(e){e.target!==t&&(t.classList.remove("dropdown__button_active"),s.classList.remove("dropdown__list_visible"))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button_active"),s.classList.remove("dropdown__list_visible"))}))}))}}();